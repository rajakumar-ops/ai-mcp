# Web Penetration Testing MCP Server - Cursor IDE Integration

## Overview

This guide explains how to integrate the Web Penetration Testing MCP server with Cursor IDE for seamless security testing during development.

## Cursor IDE Setup

### Prerequisites for Cursor
- Cursor IDE installed and running
- Docker Desktop with MCP Toolkit enabled
- Basic understanding of MCP (Model Context Protocol)

### MCP Configuration in Cursor

#### 1. Create MCP Configuration File
Create or edit the MCP configuration file for Cursor:

**Location**: `~/.cursor/mcp_config.json` (or equivalent for your OS)

```json
{
  "mcpServers": {
    "web-pentest": {
      "command": "docker",
      "args": [
        "run",
        "-i",
        "--rm",
        "--cap-add=NET_RAW",
        "-v", "/var/run/docker.sock:/var/run/docker.sock",
        "web-pentest-mcp-server:latest"
      ],
      "env": {
        "PYTHONUNBUFFERED": "1"
      }
    }
  }
}
```

#### 2. Alternative: Direct Python Execution
If you prefer running without Docker:

```json
{
  "mcpServers": {
    "web-pentest": {
      "command": "python3",
      "args": ["/path/to/web_pentest_server.py"],
      "cwd": "/path/to/web-pentest-mcp-server"
    }
  }
}
```

## Development Workflow Integration

### 1. Pre-Deployment Security Testing
Use the MCP server to test your applications before deployment:

```markdown
# Test my local development server
@web-pentest nmap_scan target="localhost" scan_type="basic"

# Check for common web vulnerabilities
@web-pentest nikto_scan target="http://localhost:3000"

# Analyze security headers
@web-pentest http_headers target="http://localhost:3000"
```

### 2. API Security Testing
Test your APIs for common vulnerabilities:

```markdown
# Test for SQL injection in API endpoints
@web-pentest sqlmap_scan target="http://localhost:3000/api/users" data="id=1"

# Check API security headers
@web-pentest http_headers target="http://localhost:3000/api"
```

### 3. WordPress Development
If working with WordPress:

```markdown
# Scan WordPress site for vulnerabilities
@web-pentest wpscan_scan target="http://localhost/wordpress"

# Check for directory exposure
@web-pentest dirb_scan target="http://localhost/wordpress" wordlist="common"
```

## Cursor-Specific Features

### 1. Code Context Integration
The MCP server can analyze your codebase for security issues:

```markdown
# Analyze the current file for potential security issues
@web-pentest searchsploit_search query="express.js authentication bypass"

# Check if your server configuration is secure
@web-pentest http_headers target="http://localhost:8080"
```

### 2. Real-time Security Monitoring
Set up continuous security monitoring during development:

```markdown
# Monitor your development server
@web-pentest nmap_scan target="localhost" scan_type="stealth"

# Check SSL configuration if using HTTPS
@web-pentest ssl_info target="localhost:443"
```

### 3. Integration with Cursor's AI Features
Leverage Cursor's AI capabilities with security testing:

```markdown
# Ask Cursor to analyze security scan results
"Based on the nmap scan results, what are the security implications of having port 22 open?"

# Get recommendations for fixing vulnerabilities
"What should I do about the SQL injection vulnerability found in my login endpoint?"
```

## Development Environment Setup

### 1. Local Testing Environment
Set up a safe testing environment:

```bash
# Create a test network
docker network create test-network

# Run your application in the test network
docker run -d --name test-app --network test-network -p 3000:3000 your-app

# Test the application
@web-pentest nmap_scan target="test-app" scan_type="basic"
```

### 2. Staging Environment Testing
Test your staging environment:

```markdown
# Test staging server
@web-pentest nmap_scan target="staging.example.com" scan_type="aggressive"

# Check for web vulnerabilities
@web-pentest nikto_scan target="https://staging.example.com"

# Verify SSL configuration
@web-pentest ssl_info target="staging.example.com"
```

## Security Best Practices in Cursor

### 1. Secure Development Workflow
```markdown
# Before committing code, run security tests
@web-pentest nmap_scan target="localhost" scan_type="basic"
@web-pentest nikto_scan target="http://localhost:3000"
@web-pentest http_headers target="http://localhost:3000"
```

### 2. Code Review Integration
Include security testing in your code review process:

```markdown
# Review security headers implementation
@web-pentest http_headers target="http://localhost:3000"

# Check for common vulnerabilities
@web-pentest searchsploit_search query="node.js express"
```

### 3. Continuous Security Testing
Set up automated security testing:

```markdown
# Daily security check
@web-pentest nmap_scan target="localhost" scan_type="stealth"
@web-pentest nikto_scan target="http://localhost:3000"
```

## Troubleshooting in Cursor

### Common Issues

#### 1. MCP Server Not Responding
```bash
# Check if Docker container is running
docker ps | grep web-pentest

# Check container logs
docker logs $(docker ps -q --filter ancestor=web-pentest-mcp-server)
```

#### 2. Permission Errors
```bash
# Run with proper capabilities
docker run --cap-add=NET_RAW web-pentest-mcp-server:latest
```

#### 3. Network Connectivity Issues
```bash
# Test network connectivity
docker run --rm web-pentest-mcp-server:latest ping -c 3 google.com
```

### Debug Mode
Enable debug logging in Cursor:

```json
{
  "mcpServers": {
    "web-pentest": {
      "command": "docker",
      "args": [
        "run",
        "-i",
        "--rm",
        "--cap-add=NET_RAW",
        "-e", "DEBUG=1",
        "web-pentest-mcp-server:latest"
      ]
    }
  }
}
```

## Advanced Usage Patterns

### 1. Custom Security Workflows
Create custom workflows for specific testing scenarios:

```markdown
# Full security assessment workflow
@web-pentest nmap_scan target="localhost" scan_type="aggressive"
@web-pentest nikto_scan target="http://localhost:3000"
@web-pentest http_headers target="http://localhost:3000"
@web-pentest ssl_info target="localhost:443"
```

### 2. Integration with Cursor's Git Features
Use security testing with version control:

```markdown
# Test before pushing to remote
@web-pentest nmap_scan target="localhost" scan_type="basic"

# Test after pulling changes
@web-pentest nikto_scan target="http://localhost:3000"
```

### 3. Multi-Environment Testing
Test across different environments:

```markdown
# Development environment
@web-pentest nmap_scan target="localhost" scan_type="basic"

# Staging environment
@web-pentest nmap_scan target="staging.example.com" scan_type="aggressive"

# Production environment (with caution)
@web-pentest nmap_scan target="production.example.com" scan_type="stealth"
```

## Security Considerations for Cursor Users

### 1. Safe Testing Practices
- Only test systems you own or have permission to test
- Use isolated test environments when possible
- Never test production systems without explicit permission
- Document all testing activities

### 2. Data Protection
- Be aware that scan results may contain sensitive information
- Don't commit scan results to version control
- Use secure communication channels for sharing results

### 3. Compliance Considerations
- Ensure testing complies with your organization's security policies
- Follow responsible disclosure practices
- Maintain audit trails of security testing activities

## Integration with Cursor Extensions

### 1. Security Extensions
Combine with Cursor's security extensions:
- ESLint security rules
- CodeQL analysis
- Dependency vulnerability scanning

### 2. Custom Scripts
Create custom scripts that integrate with the MCP server:

```bash
#!/bin/bash
# security-check.sh
echo "Running security tests..."
@web-pentest nmap_scan target="localhost" scan_type="basic"
@web-pentest nikto_scan target="http://localhost:3000"
echo "Security tests completed."
```

## Performance Optimization

### 1. Scan Optimization
- Use appropriate scan types for your needs
- Set reasonable timeouts
- Test during off-peak hours

### 2. Resource Management
- Monitor Docker resource usage
- Clean up old containers regularly
- Use appropriate scan parameters

## Getting Help

### 1. Cursor Community
- Join Cursor's Discord/community forums
- Share security testing workflows
- Get help with MCP integration

### 2. Security Community
- Follow responsible disclosure practices
- Contribute to security tool development
- Share knowledge with the community

## Conclusion

The Web Penetration Testing MCP server provides powerful security testing capabilities directly within Cursor IDE. By following this guide, you can integrate security testing into your development workflow, ensuring that security is considered throughout the development process.

Remember to always test responsibly and only on systems you own or have explicit permission to test.
